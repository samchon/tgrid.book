
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>2.2. Learn from Examples Â· TGrid</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Jeongho Nam">
        
        
    
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codegroup/code.group.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-collapse/collapse.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-disqus/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-hide-navigation-buttons/index.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-language-picker/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-panel/icons.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-panel/panel.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-theme-github/style.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

    

        
    
    
    <meta  name="og:url"  content="https://tgrid.dev" >
    
    <meta  name="og:type"  content="website" >
    
    <meta  name="og:title"  content="TGrid Guide Documents" >
    
    <meta  name="og:description"  content="TypeScript Grid Computing Framework" >
    
    <meta  name="og:image"  content="https://tgrid.dev/assets/images/flag.png" >
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="examples.html" />
    
    
    <link rel="prev" href="concepts.html" />
    


    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">1. Introduction</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    1.1. README
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../">
            
                <a href="../#1-outline">
            
                    
                    1.1.1. Outline
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../">
            
                <a href="../#2-strengths">
            
                    
                    1.1.2. Strengths
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../">
            
                <a href="../#3-opportunities">
            
                    
                    1.1.3. Opportunities
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">2. Tutorial</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="concepts.html">
            
                <a href="concepts.html">
            
                    
                    2.1. Basic Concepts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="concepts.html">
            
                <a href="concepts.html#1-theory">
            
                    
                    2.1.1. Theory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.2" data-path="concepts.html">
            
                <a href="concepts.html#2-components">
            
                    
                    2.1.2. Components
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.1.3" data-path="concepts.html">
            
                <a href="concepts.html#3-protocols">
            
                    
                    2.1.3. Protocols
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="2.2" data-path="examples.html">
            
                <a href="examples.html">
            
                    
                    2.2. Learn from Examples
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="examples.html">
            
                <a href="examples.html#1-remote-function-call">
            
                    
                    2.2.1. Remote Function Call
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="examples.html">
            
                <a href="examples.html#2-remote-object-call">
            
                    
                    2.2.2. Remote Object Call
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="examples.html">
            
                <a href="examples.html#3-object-oriented-network">
            
                    
                    2.2.3. Object Oriented Network
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="examples.html">
            
                <a href="examples.html#4-remote-critical-section">
            
                    
                    2.2.4. Remote Critical Section
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="projects/">
            
                <a href="projects/">
            
                    
                    2.3. Learn from Projects
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="projects/chat.html">
            
                <a href="projects/chat.html">
            
                    
                    2.3.1. Chat Application
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="projects/othello.html">
            
                <a href="projects/othello.html">
            
                    
                    2.3.2. Othello Game
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="projects/market.html">
            
                <a href="projects/market.html">
            
                    
                    2.3.3. Grid Market
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">3. Appendix</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../appendix/swot.html">
            
                <a href="../appendix/swot.html">
            
                    
                    3.1. SWOT Analysis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../appendix/blockchain.html">
            
                <a href="../appendix/blockchain.html">
            
                    
                    3.2. Blockchain
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >2.2. Learn from Examples</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
  <section class="normal markdown-body">
  
  <h1 id="learn-from-examples">Learn from Examples</h1>
<blockquote>
<p><a href="https://github.com/samchon/tgrid.examples" target="_blank">https://github.com/samchon/tgrid.examples</a></p>
</blockquote>
<p>In this lesson, we&apos;ll learn about <strong>TGrid</strong> in depth with simple examples. Also, let&apos;s take a look at the code of <em>Remote Function Call</em> and demonstrate how the <em>Remote Function Call</em> come true the word: <em>computers to be a computer</em>. </p>
<ul>
<li>Demonstration of <strong>TGrid</strong>, who makes <u>computers to be a computer</u><ul>
<li><a href="#1-remote-function-call">1. Remote Function Call</a></li>
<li><a href="#2-remote-object-call">2. Remote Object Call</a></li>
<li><a href="#3-object-oriented-network">3. Object Oriented Network</a></li>
<li><a href="#4-remote-critical-section">4. Remote Critical Section</a></li>
</ul>
</li>
</ul>
<h2 id="1-remote-function-call">1. Remote Function Call</h2>
<p>Let&apos;s see what <em>Remote Function Call</em> and how to use it with the below example code. What we&apos;re going to implement in this chapter is a remote calculator. The server <em>provides</em> a simple arithmetic calculator and client uses it ti perform calculations through the <em>Remote Function Call</em>.</p>
<ul>
<li>Server: Provides arithmetic operations</li>
<li>Client: Use it</li>
</ul>
<h3 id="11-features">1.1. Features</h3>
<p><code>ISimpleCalculator</code> is an interface that defines the functions provided to client from the server. Some of you may have noticed already. Ues, <code>ISimpleCalculator</code> is the <a href="concepts.html#23-controller">Controller</a>. Then, what is the role of <code>SimpleCalculator</code>? Right, it&apos;s the <a href="concepts.html#22-provider">Provider</a> class provided from server to client.</p>
<ul>
<li><a href="https://github.com/samchon/tgrid.examples/blob/master/src/controllers/ICalculator.ts#L8-L14" target="_blank"><code>../controllers/ICalculator.ts</code></a></li>
<li><a href="https://github.com/samchon/tgrid.examples/blob/master/src/providers/Calculator.ts#L6-L28" target="_blank"><code>../providers/Calculator.ts</code></a></li>
</ul>
<p><div id="171336f4320248458c776c0384c3724b" class="gbcg gbcg-codegroup" data-remember-tabs="true">
  <div class="gbcg-tab-selectors">
    <a id="select-typescript-0-0ccb560aa74abe1ea2f0c485ab3074e0" class="gbcg-selector gbcg-active" data-tab="typescript-0-0ccb560aa74abe1ea2f0c485ab3074e0">Controller</a>
    <a id="select-typescript-1-917dfc055dd3d4dc3314bc5859172125" class="gbcg-selector" data-tab="typescript-1-917dfc055dd3d4dc3314bc5859172125">Provider</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="typescript-0-0ccb560aa74abe1ea2f0c485ab3074e0" class="gbcg-tab-item gbcb-Controller">
        <pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">minus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">multiplies</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">divides</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname typescript-0-0ccb560aa74abe1ea2f0c485ab3074e0" id="controller">Controller</h3>
        <div id="typescript-0-0ccb560aa74abe1ea2f0c485ab3074e0" class="gbcg-tab-item gbcb-Controller">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">minus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">multiplies</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">divides</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-1-917dfc055dd3d4dc3314bc5859172125" id="provider">Provider</h3>
        <div id="typescript-1-917dfc055dd3d4dc3314bc5859172125" class="gbcg-tab-item gbcb-Provider">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> ISimpleCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SimpleCalculator</span> <span class="token keyword">implements</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">minus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">-</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">multiplies</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">divides</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Divided by zero.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> x <span class="token operator">/</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="12-server">1.2. Server</h3>
<p>As I mentioned, the role of server in this example is to <em>providing</em> arithmetic calculator for the client. Therefore, server program code is very simple. Just opens a server and provides arithmetic calculator <code>SimpleCalculator</code> (be <a href="concepts.html#22-provider">Provider</a>) to clients who access to server.</p>
<h4 id="simple-calculatorserverts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/simple-calculator/server.ts" target="_blank"><code>simple-calculator/server.ts</code></a></h4>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebServer<span class="token punctuation">,</span> WebAcceptor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> SimpleCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> server<span class="token punctuation">:</span> WebServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token number">10101</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">acceptor<span class="token punctuation">:</span> WebAcceptor</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> acceptor<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="13-client">1.3. Client</h3>
<p>Finally, the time to make the long-awaited client program has come. If you compare two example codes, you may find a fact: Two codes are similar. You can see that (a program code connecting to server and using remote calculator provided from server as a client) and (another program code using its own calculator as a single program), both of them have similar program code.</p>
<p>In technical terms, it&apos;s considered as &quot;Bsuiness Logic code is perfectly similar&quot;. Of course, two program codes are not 100% matched, because of domain logics like client should connect to server or an extra symbol <code>await</code> is required for the <em>Remote Function Call</em>. However, the Business Logic portion of the two codes is completely homogeneous in fundamental level. Therefore, it helps us to separating Business Logic from Network System perfectly. do you agree?</p>
<p>The ability to call a networked remote system freely of its functions, just like it was my memory object from the beginning. This is the <em>Remote Function Call</em>.</p>
<p><div class="panel panel-warning"><div class="panel-heading"><div class="panel-icon"><i class="icon-warning"></i></div><div class="panel-title">Something to be aware of</div></div><div class="panel-content"><p>On the 17 th line, you can see that after the client has finished connecting to the server, it constructs a <a href="concepts.html#24-driver">Driver</a>&lt;<a href="concepts.html#23-controller">Controller</a>&gt; object, by calling the <code>connector.getDriver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ISimpleCalculator</span><span class="token punctuation">&gt;</span></span>()</code> method from <a href="concepts.html#21-communicator">Communicator</a>, for preparing the <em>remote function calls</em>.</p>
<p>As you can see, all of the remote function calls to remote system&apos;s <a href="concepts.html#22-provider">Provider</a> are always done through this <a href="concepts.html#24-driver">Driver</a>&lt;<a href="concepts.html#23-controller">Controller</a>&gt; object. It would be repeated in all tutorial lessons. Thus, please be aware of it, the <a href="concepts.html#24-driver">Driver</a>&lt;<a href="concepts.html#23-controller">Controller</a>&gt;.</p>
</div></div></p>
<h4 id="simple-calculatorclientts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/simple-calculator/client.ts" target="_blank"><code>simple-calculator/client.ts</code></a></h4>
<p><div id="b8f99da3ca8075785c69086bdb4ab77c" class="gbcg gbcg-codegroup" data-remember-tabs="true">
  <div class="gbcg-tab-selectors">
    <a id="select-typescript-0-9ce518cd8ba879b281acc2b77153f5a5" class="gbcg-selector gbcg-active" data-tab="typescript-0-9ce518cd8ba879b281acc2b77153f5a5">Remote-Function-Call</a>
    <a id="select-typescript-1-2bd764c60a5325b064c2fc30226fae91" class="gbcg-selector" data-tab="typescript-1-2bd764c60a5325b064c2fc30226fae91">Single-Program</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="typescript-0-9ce518cd8ba879b281acc2b77153f5a5" class="gbcg-tab-item gbcb-Remote-Function-Call">
        <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ISimpleCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONNECTION</span>
    <span class="token comment">//----</span>
    <span class="token keyword">let</span> connector<span class="token punctuation">:</span> WebConnector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebConnector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;ws://127.0.0.1:10101&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// CALL FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// GET DRIVER</span>
    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>ISimpleCalculator<span class="token operator">&gt;</span> <span class="token operator">=</span> connector<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>ISimpleCalculator<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// CALL FUNCTIONS WITH AWAIT SYMBOL</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 3 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 - 4 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;8 x 9 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// TO CATCH EXCEPTION IS ALSO POSSIBLE</span>
    <span class="token keyword">try</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">divides</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;4 / 0 -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//----</span>
    <span class="token comment">// TERMINATE</span>
    <span class="token comment">//----</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname typescript-0-9ce518cd8ba879b281acc2b77153f5a5" id="remote-function-call">Remote-Function-Call</h3>
        <div id="typescript-0-9ce518cd8ba879b281acc2b77153f5a5" class="gbcg-tab-item gbcb-Remote-Function-Call">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ISimpleCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONNECTION</span>
    <span class="token comment">//----</span>
    <span class="token keyword">let</span> connector<span class="token punctuation">:</span> WebConnector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebConnector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;ws://127.0.0.1:10101&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// CALL FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// GET DRIVER</span>
    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>ISimpleCalculator<span class="token operator">&gt;</span> <span class="token operator">=</span> connector<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>ISimpleCalculator<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// CALL FUNCTIONS WITH AWAIT SYMBOL</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 3 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 - 4 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;8 x 9 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// TO CATCH EXCEPTION IS ALSO POSSIBLE</span>
    <span class="token keyword">try</span> 
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">divides</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;4 / 0 -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//----</span>
    <span class="token comment">// TERMINATE</span>
    <span class="token comment">//----</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-1-2bd764c60a5325b064c2fc30226fae91" id="single-program">Single-Program</h3>
        <div id="typescript-1-2bd764c60a5325b064c2fc30226fae91" class="gbcg-tab-item gbcb-Single-Program">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> SimpleCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CALL FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONSTRUCT CALCULATOR</span>
    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> SimpleCalculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// CALL FUNCTIONS DIRECTLY</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 3 =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 - 4 =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span><span class="token function">minus</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;8 x 9 =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// TO CATCH EXCEPTION</span>
    <span class="token keyword">try</span> 
    <span class="token punctuation">{</span>
        calc<span class="token punctuation">.</span><span class="token function">divides</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;4 / 0 -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<blockquote>
<pre class="language-"><code class="lang-python"><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">3</span> <span class="token operator">=</span> <span class="token number">4</span>
<span class="token number">7</span> <span class="token operator">-</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">3</span>
<span class="token number">8</span> x <span class="token number">9</span> <span class="token operator">=</span> <span class="token number">72</span>
<span class="token number">4</span> <span class="token operator">/</span> <span class="token number">0</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Error<span class="token punctuation">:</span> Divided by zero<span class="token punctuation">.</span>
</code></pre>
</blockquote>
<h2 id="2-remote-object-call">2. Remote Object Call</h2>
<p>In the previous chapter, we&apos;ve learned how to call functions of remote system. However, the previous chapter handled only singular structured object which defined all functions in its root scope. Therefore, we&apos;ve never handled the composite structure.</p>
<p>What if the remote object you want to use is a composite structure? What if the final remote function you want to call is placed into deep depth hierarchy with stack of objects? In this case, <strong>TGrid</strong>&apos;s answer is simple and clear.</p>
<p><div class="panel panel-success"><div class="panel-heading"><div class="panel-icon"><i class="icon-success"></i></div><div class="panel-title">TGrid says</div></div><div class="panel-content"><p>Just use it~!</p>
</div></div></p>
<h3 id="21-features">2.1. Features</h3>
<p>In this chapter, we&apos;ll demonstrate the <em>Remote Object Call</em> using <code>CompositeCalculator</code>. The <code>CompositeCalculator</code> class extends the <a href="#11-features">SimpleCalculator</a> to keep supporting four arithmetic operations continuosly. Also, supports <code>scientific</code> and <code>statistics</code> calculators with internal objects. Therefore, <code>CompositeCalculator</code> is a typical of composite structured class.</p>
<p>I think you may already know that, the <code>CompositeCalculator</code> would be Provider in the server. Also, <code>ICompositeCalculator</code> would be a <a href="concepts.html#23-controller">Controller</a> in the client.</p>
<ul>
<li><a href="https://github.com/samchon/tgrid.examples/blob/master/src/controllers/ICalculator.ts" target="_blank"><code>../controllers/ICalculator.ts</code></a></li>
<li><a href="https://github.com/samchon/tgrid.examples/blob/master/src/providers/Calculator.ts" target="_blank"><code>../providers/Calculator.ts</code></a></li>
</ul>
<p><div id="bd35dac58e5187f596413548930ed871" class="gbcg gbcg-codegroup" data-remember-tabs="true">
  <div class="gbcg-tab-selectors">
    <a id="select-typescript-0-bc73f87b9a66ff7de04abd7271f3136e" class="gbcg-selector gbcg-active" data-tab="typescript-0-bc73f87b9a66ff7de04abd7271f3136e">Controller</a>
    <a id="select-typescript-1-361cd9c78e1eb3108b7ec4ba835e9802" class="gbcg-selector" data-tab="typescript-1-361cd9c78e1eb3108b7ec4ba835e9802">Provider</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="typescript-0-bc73f87b9a66ff7de04abd7271f3136e" class="gbcg-tab-item gbcb-Controller">
        <pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ICompositeCalculator</span> 
    <span class="token keyword">extends</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    scientific<span class="token punctuation">:</span> IScientific<span class="token punctuation">;</span>
    statistics<span class="token punctuation">:</span> IStatistics<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">minus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">multiplies</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">divides</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IScientific</span>
<span class="token punctuation">{</span>
    <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IStatistics</span>
<span class="token punctuation">{</span>
    <span class="token function">mean</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">stdev</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname typescript-0-bc73f87b9a66ff7de04abd7271f3136e" id="controller">Controller</h3>
        <div id="typescript-0-bc73f87b9a66ff7de04abd7271f3136e" class="gbcg-tab-item gbcb-Controller">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ICompositeCalculator</span> 
    <span class="token keyword">extends</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    scientific<span class="token punctuation">:</span> IScientific<span class="token punctuation">;</span>
    statistics<span class="token punctuation">:</span> IStatistics<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">minus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">multiplies</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">divides</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IScientific</span>
<span class="token punctuation">{</span>
    <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IStatistics</span>
<span class="token punctuation">{</span>
    <span class="token function">mean</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">stdev</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-1-361cd9c78e1eb3108b7ec4ba835e9802" id="provider">Provider</h3>
        <div id="typescript-1-361cd9c78e1eb3108b7ec4ba835e9802" class="gbcg-tab-item gbcb-Provider">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> 
    ICompositeCalculator<span class="token punctuation">,</span> 
    ISimpleCalculator<span class="token punctuation">,</span> IScientific<span class="token punctuation">,</span> IStatistics
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">SimpleCalculator</span> 
    <span class="token keyword">implements</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">minus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">-</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">multiplies</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">divides</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Divided by zero.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> x <span class="token operator">/</span> y<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CompositeCalculator</span> 
    <span class="token keyword">extends</span> <span class="token class-name">SimpleCalculator</span> 
    <span class="token keyword">implements</span> <span class="token class-name">ICompositeCalculator</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> scientific <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scientific</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> statistics <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Statistics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Scientific</span> <span class="token keyword">implements</span> <span class="token class-name">IScientific</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> y <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Negative value on log.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token operator">/</span> Math<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;Negative value on sqaure.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Statistics</span> <span class="token keyword">implements</span> <span class="token class-name">IStatistics</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">mean</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">let</span> ret<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> val <span class="token keyword">of</span> elems<span class="token punctuation">)</span>
            ret <span class="token operator">+=</span> val<span class="token punctuation">;</span>
        <span class="token keyword">return</span> ret <span class="token operator">/</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">stdev</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">let</span> mean<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">let</span> ret<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> val <span class="token keyword">of</span> elems<span class="token punctuation">)</span>
            ret <span class="token operator">+=</span> Math<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span>val <span class="token operator">-</span> mean<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span>ret <span class="token operator">/</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="22-server">2.2. Server</h3>
<p>Need any explanation about this server code? Only difference between <a href="#11-server">1. Remote Function Call</a> is <a href="#concepts.md#22-provider">Provider</a> has been changed from <code>SimpleCalculator</code> to <code>CompositeCalculator</code>. Oh, and ports number also has been changed.</p>
<h4 id="composite-calculatorserverts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/composite-calculator/server.ts" target="_blank"><code>composite-calculator/server.ts</code></a></h4>
<p><div id="5f0457214cfb92009dcffeee5d67cebc" class="gbcg gbcg-codegroup" data-remember-tabs="true">
  <div class="gbcg-tab-selectors">
    <a id="select-typescript-0-882efed07dcb703e6929f8cf464a9ba3" class="gbcg-selector gbcg-active" data-tab="typescript-0-882efed07dcb703e6929f8cf464a9ba3">Remote-Object-Call</a>
    <a id="select-typescript-1-fd597a9b7c3315a077940e3915229005" class="gbcg-selector" data-tab="typescript-1-fd597a9b7c3315a077940e3915229005">Remote-Function-Call</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="typescript-0-882efed07dcb703e6929f8cf464a9ba3" class="gbcg-tab-item gbcb-Remote-Object-Call">
        <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebServer<span class="token punctuation">,</span> WebAcceptor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> server<span class="token punctuation">:</span> WebServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token number">10102</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">acceptor<span class="token punctuation">:</span> WebAcceptor</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> acceptor<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CompositeCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname typescript-0-882efed07dcb703e6929f8cf464a9ba3" id="remote-object-call">Remote-Object-Call</h3>
        <div id="typescript-0-882efed07dcb703e6929f8cf464a9ba3" class="gbcg-tab-item gbcb-Remote-Object-Call">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebServer<span class="token punctuation">,</span> WebAcceptor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> server<span class="token punctuation">:</span> WebServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token number">10102</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">acceptor<span class="token punctuation">:</span> WebAcceptor</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> acceptor<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CompositeCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-1-fd597a9b7c3315a077940e3915229005" id="remote-function-call">Remote-Function-Call</h3>
        <div id="typescript-1-fd597a9b7c3315a077940e3915229005" class="gbcg-tab-item gbcb-Remote-Function-Call">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebServer<span class="token punctuation">,</span> WebAcceptor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> SimpleCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> server<span class="token punctuation">:</span> WebServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token number">10101</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">acceptor<span class="token punctuation">:</span> WebAcceptor</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> acceptor<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="23-client">2.3. Client</h3>
<p>In the client program, <a href="concepts.html#23-controller">Controller</a> has been changed from <code>ISimpleCalculator</code> to <code>ICompositeCalculator</code>. Also, scopes of target functions have been changed from root scope to composite scope. But as you can see, no problem on the <em>remote function calls</em>.</p>
<p>I named remote function calls to composite scoped objects as <em>&quot;Remote Object Call&quot;</em> and distinguished it from <a href="#13-client">Remote Function Call</a>. However, they&apos;re same in the fundamental level. Despite Provider and Controller have been changed from singular object to composite object, Business Logic codes between network system and single program are still the same.</p>
<h4 id="composite-calculatorclientts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/composite-calculator/client.ts" target="_blank"><code>composite-calculator/client.ts</code></a></h4>
<p><div id="6d3eb3a6d72249c50df9480a58d882f3" class="gbcg gbcg-codegroup" data-remember-tabs="true">
  <div class="gbcg-tab-selectors">
    <a id="select-typescript-0-ba865749330b84292343644a826efb11" class="gbcg-selector gbcg-active" data-tab="typescript-0-ba865749330b84292343644a826efb11">Remote-Object-Call</a>
    <a id="select-typescript-1-80309ad091552a17daffee84b8f57f4c" class="gbcg-selector" data-tab="typescript-1-80309ad091552a17daffee84b8f57f4c">Single-Program</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="typescript-0-ba865749330b84292343644a826efb11" class="gbcg-tab-item gbcb-Remote-Object-Call">
        <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ICompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONNECTION</span>
    <span class="token comment">//----</span>
    <span class="token keyword">let</span> connector<span class="token punctuation">:</span> WebConnector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebConnector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;ws://127.0.0.1:10102&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// CALL FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// GET DRIVER</span>

    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span> <span class="token operator">=</span> connector<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// FUNCTIONS IN THE ROOT SCOPE</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 6 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 * 2 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (SCIENTIFIC)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3 ^ 4 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;log (2, 32) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// TO CATCH EXCEPTION IS STILL POSSIBLE</span>
        <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SQRT (-4) -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (STATISTICS)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Mean (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Stdev. (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">stdev</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// TERMINATE</span>
    <span class="token comment">//----</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname typescript-0-ba865749330b84292343644a826efb11" id="remote-object-call">Remote-Object-Call</h3>
        <div id="typescript-0-ba865749330b84292343644a826efb11" class="gbcg-tab-item gbcb-Remote-Object-Call">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ICompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONNECTION</span>
    <span class="token comment">//----</span>
    <span class="token keyword">let</span> connector<span class="token punctuation">:</span> WebConnector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebConnector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;ws://127.0.0.1:10102&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// CALL FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// GET DRIVER</span>

    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span> <span class="token operator">=</span> connector<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// FUNCTIONS IN THE ROOT SCOPE</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 6 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 * 2 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (SCIENTIFIC)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3 ^ 4 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;log (2, 32) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// TO CATCH EXCEPTION IS STILL POSSIBLE</span>
        <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SQRT (-4) -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (STATISTICS)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Mean (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Stdev. (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">stdev</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// TERMINATE</span>
    <span class="token comment">//----</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-1-80309ad091552a17daffee84b8f57f4c" id="single-program">Single-Program</h3>
        <div id="typescript-1-80309ad091552a17daffee84b8f57f4c" class="gbcg-tab-item gbcb-Single-Program">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> CompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CALL FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONSTRUCT CALCULATOR</span>
    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> CompositeCalculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CompositeCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN THE ROOT SCOPE</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 6 =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 * 2 =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (SCIENTIFIC)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3 ^ 4 =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;log (2, 32) =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// TO CATCH EXCEPTION</span>
        calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SQRT (-4) -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (STATISTICS)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Mean (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Stdev. (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">stdev</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<blockquote>
<pre class="language-"><code class="lang-python"><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">7</span>
<span class="token number">7</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">14</span>
<span class="token number">3</span> <span class="token operator">^</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">81</span>
log <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">5</span>
SQRT <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Error<span class="token punctuation">:</span> Negative value on sqaure<span class="token punctuation">.</span>
Mean <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2.5</span>
Stdev<span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1.118033988749895</span>
</code></pre>
</blockquote>
<h2 id="3-object-oriented-network">3. Object Oriented Network</h2>
<p>In this chapter, we&apos;ll re-make the <em>Composite Calculaotr</em> created in the previous chapter <a href="#2-remote-object-call">2. Remote Object Call</a> again but with a little bit different; <em>Hierarchical Calculator</em>. Previous <code>CompositeCalculator</code> has a <em>scientific</em> and <em>statistics</em> calculators as internal member objects. In the new <em>HierarchicalCalculator</em>, we would create in this chapter, those <em>scientific</em> and <em>statistics</em> calculators would be separated into independent servers.</p>
<p>It means that we need split one calculator server into three different servers. At first, we&apos;ll create two new servers responsible for <code>scientific</code> and <code>statistics</code> calculations. At last, we&apos;ll make a mainframe server responsible for 4 arithmetic operations itself and shifting responsibilities to related servers about <em>scientific</em> and <em>statistics</em> operations; <code>calculator</code>.</p>
<p>After we&apos;ve built all of the servers, we should make the client program using the <em>Hierarchical Calculator</em>. Would the Business Logic be kept despite of critical change on the network system&apos;s structure? Let&apos;s demonstrate it.</p>
<table>
<thead>
<tr>
<th style="text-align:center"><img src="../../assets/images/examples/composite-calculator.png" alt="Diagram of Composite Calculator"></th>
<th style="text-align:center"><img src="../../assets/images/examples/hierarchical-calculator.png" alt="Diagram of Hierarchical Calculator"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Composite Calculator</td>
<td style="text-align:center">Hierarchical Calculator</td>
</tr>
</tbody>
</table>
<h3 id="31-features">3.1. Features</h3>
<p>In this section, <a href="concepts.html#23-controller">Controller</a>s used by mainframe server are <code>IScientific</code> and <code>ISatistics</code>. Also, <a href="concepts.html#23-controller">Controller</a> used by the client program is <code>ICompositeCalculator</code>. Wait a minute! <a href="concepts.html#23-controller">Controller</a> of the client program is exactly same with the previous chapter <a href="#2-remote-object-call">2. Remote Object Call</a>. Have you noticed or felt something? </p>
<p>Congratulations if you&apos;ve understood how to implement the <em>Hierarchical Calculator</em>, just by looking at the <a href="concepts.html#23-controller">Controller</a>s. You&apos;ve already understood everything about the <strong>TGrid</strong>.</p>
<ul>
<li><a href="https://github.com/samchon/tgrid.examples/blob/master/src/controllers/ICalculator.ts" target="_blank"><code>../controllers/ICalculator.ts</code></a></li>
<li><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/hierarchical-calculator/calculator.ts#L7-L13" target="_blank"><code>hierarchical-calculator/calculator.ts#L7-L13</code></a></li>
</ul>
<p><div id="ed6f1d55b97f713cd322a614b5866bdf" class="gbcg gbcg-codegroup" data-remember-tabs="true">
  <div class="gbcg-tab-selectors">
    <a id="select-typescript-0-bc73f87b9a66ff7de04abd7271f3136e" class="gbcg-selector gbcg-active" data-tab="typescript-0-bc73f87b9a66ff7de04abd7271f3136e">Controller</a>
    <a id="select-typescript-1-d3a1648c6652b86c15a94d3603310d9d" class="gbcg-selector" data-tab="typescript-1-d3a1648c6652b86c15a94d3603310d9d">Provider</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="typescript-0-bc73f87b9a66ff7de04abd7271f3136e" class="gbcg-tab-item gbcb-Controller">
        <pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ICompositeCalculator</span> 
    <span class="token keyword">extends</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    scientific<span class="token punctuation">:</span> IScientific<span class="token punctuation">;</span>
    statistics<span class="token punctuation">:</span> IStatistics<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">minus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">multiplies</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">divides</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IScientific</span>
<span class="token punctuation">{</span>
    <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IStatistics</span>
<span class="token punctuation">{</span>
    <span class="token function">mean</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">stdev</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname typescript-0-bc73f87b9a66ff7de04abd7271f3136e" id="controller">Controller</h3>
        <div id="typescript-0-bc73f87b9a66ff7de04abd7271f3136e" class="gbcg-tab-item gbcb-Controller">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ICompositeCalculator</span> 
    <span class="token keyword">extends</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    scientific<span class="token punctuation">:</span> IScientific<span class="token punctuation">;</span>
    statistics<span class="token punctuation">:</span> IStatistics<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ISimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token function">plus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">minus</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">multiplies</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">divides</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IScientific</span>
<span class="token punctuation">{</span>
    <span class="token function">pow</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">sqrt</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IStatistics</span>
<span class="token punctuation">{</span>
    <span class="token function">mean</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
    <span class="token function">stdev</span><span class="token punctuation">(</span><span class="token operator">...</span>elems<span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-1-d3a1648c6652b86c15a94d3603310d9d" id="provider">Provider</h3>
        <div id="typescript-1-d3a1648c6652b86c15a94d3603310d9d" class="gbcg-tab-item gbcb-Provider">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> SimpleCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> IScientific<span class="token punctuation">,</span> IStatistics <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">HierarchicalCalculator</span> 
    <span class="token keyword">extends</span> <span class="token class-name">SimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token comment">// REMOTE CALCULATORS</span>
    <span class="token keyword">public</span> scientific<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>IScientific<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> statistics<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>IStatistics<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="32-servers">3.2. Servers</h3>
<h4 id="hierarchical-calculatorscientificts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/hierarchical-calculator/scientific.ts" target="_blank"><code>hierarchical-calculator/scientific.ts</code></a></h4>
<p>Let&apos;s create <em>scientific</em> calculator server. It seems very easy, isn&apos;t it?</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerServer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/workers&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Scientific <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> server<span class="token punctuation">:</span> WorkerServer<span class="token operator">&lt;</span>Scientific<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Scientific</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="hierarchical-calculatorstatisticsts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/hierarchical-calculator/statistics.ts" target="_blank"><code>hierarchical-calculator/statistics.ts</code></a></h4>
<p>Implementing <em>statistics</em> calculator server is also very easy, too.</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerServer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/workers&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Statistics <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> server<span class="token punctuation">:</span> WorkerServer<span class="token operator">&lt;</span>Statistics<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Statistics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="hierarchical-calculatorcalculatorts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/hierarchical-calculator/calculator.ts" target="_blank"><code>hierarchical-calculator/calculator.ts</code></a></h4>
<p>Now, it&apos;s time to create the mainframe server.</p>
<p>Mainframe server computes four arithmetic operations by itself. The <em>scientific</em> and <em>statistics</em> operations are shifted to related servers and the mainframe server only intermediates computation results. It means that mainframe server has implementation code about the four arthmetic operations and <em>scientific</em> and <em>statistics</em> operations are done by <a href="concepts.html#24-driver">Driver</a>&lt;<a href="concepts.html#23-controller">Controller</a>&gt; objects interacting with related servers.</p>
<p>As a result, the <code>HierarchicalCalculator</code> is same with previous chapter&apos;s <a href="#21-features">CompositeCalculator</a> in logically. Although detailed implementation codes of two classes are something different, they have same interface and also provide same features. Now, can&apos;t you imagine the client&apos;s implementation code, even if you haven&apos;t seen the example code?</p>
<p><div id="eb6f53ce3d14a50af351913c90bc688d" class="gbcg gbcg-codegroup" data-remember-tabs="true">
  <div class="gbcg-tab-selectors">
    <a id="select-typescript-0-82c533e98fcd7dae69a7c4dbd7d42ab3" class="gbcg-selector gbcg-active" data-tab="typescript-0-82c533e98fcd7dae69a7c4dbd7d42ab3">Object-Oriented-Network</a>
    <a id="select-typescript-1-cb0645baa48500d27e0ced15d17e5972" class="gbcg-selector" data-tab="typescript-1-cb0645baa48500d27e0ced15d17e5972">Remote-Object-Call</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="typescript-0-82c533e98fcd7dae69a7c4dbd7d42ab3" class="gbcg-tab-item gbcb-Object-Oriented-Network">
        <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerServer<span class="token punctuation">,</span> WorkerConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/workers&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> SimpleCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> IScientific<span class="token punctuation">,</span> IStatistics <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">HierarchicalCalculator</span> <span class="token keyword">extends</span> <span class="token class-name">SimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token comment">// REMOTE CALCULATOR</span>
    <span class="token keyword">public</span> scientific<span class="token operator">!</span><span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>IScientific<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> statistics<span class="token operator">!</span><span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>IStatistics<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token keyword">get</span><span class="token operator">&lt;</span>Controller <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token operator">&gt;</span>
    <span class="token punctuation">(</span>path<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Driver<span class="token operator">&lt;</span>Controller<span class="token operator">&gt;&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// DO CONNECT</span>
    <span class="token keyword">let</span> connector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerConnector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// RETURN DRIVER</span>
    <span class="token keyword">return</span> connector<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>Controller<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// PREPARE REMOTE CALCULATOR</span>
    <span class="token keyword">let</span> calc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HierarchicalCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    calc<span class="token punctuation">.</span>scientific <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">get</span><span class="token operator">&lt;</span>IScientific<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;scientific.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    calc<span class="token punctuation">.</span>statistics <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">get</span><span class="token operator">&lt;</span>IStatistics<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;statistics.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// OPEN SERVER</span>
    <span class="token keyword">let</span> server <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>calc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname typescript-0-82c533e98fcd7dae69a7c4dbd7d42ab3" id="object-oriented-network">Object-Oriented-Network</h3>
        <div id="typescript-0-82c533e98fcd7dae69a7c4dbd7d42ab3" class="gbcg-tab-item gbcb-Object-Oriented-Network">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerServer<span class="token punctuation">,</span> WorkerConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/workers&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> SimpleCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> IScientific<span class="token punctuation">,</span> IStatistics <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">HierarchicalCalculator</span> <span class="token keyword">extends</span> <span class="token class-name">SimpleCalculator</span>
<span class="token punctuation">{</span>
    <span class="token comment">// REMOTE CALCULATOR</span>
    <span class="token keyword">public</span> scientific<span class="token operator">!</span><span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>IScientific<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> statistics<span class="token operator">!</span><span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>IStatistics<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token keyword">get</span><span class="token operator">&lt;</span>Controller <span class="token keyword">extends</span> <span class="token class-name">object</span><span class="token operator">&gt;</span>
    <span class="token punctuation">(</span>path<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Driver<span class="token operator">&lt;</span>Controller<span class="token operator">&gt;&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// DO CONNECT</span>
    <span class="token keyword">let</span> connector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerConnector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// RETURN DRIVER</span>
    <span class="token keyword">return</span> connector<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>Controller<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// PREPARE REMOTE CALCULATOR</span>
    <span class="token keyword">let</span> calc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HierarchicalCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    calc<span class="token punctuation">.</span>scientific <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">get</span><span class="token operator">&lt;</span>IScientific<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;scientific.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    calc<span class="token punctuation">.</span>statistics <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">get</span><span class="token operator">&lt;</span>IStatistics<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&quot;statistics.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// OPEN SERVER</span>
    <span class="token keyword">let</span> server <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>calc<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-1-cb0645baa48500d27e0ced15d17e5972" id="remote-object-call">Remote-Object-Call</h3>
        <div id="typescript-1-cb0645baa48500d27e0ced15d17e5972" class="gbcg-tab-item gbcb-Remote-Object-Call">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebServer<span class="token punctuation">,</span> WebAcceptor <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> CompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> server<span class="token punctuation">:</span> WebServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token number">10102</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">acceptor<span class="token punctuation">:</span> WebAcceptor</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">await</span> acceptor<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CompositeCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="33-client">3.3. Client</h3>
<p>The Provider class HierarchicalCaluclator is same with previous chapter&apos;s <a href="#21-features">CompositeCalculator</a> in logically. Also, they have same interface although their detailed implementation codes are slightly different.</p>
<p>It means that the client program of this chapter can re-use the <code>ICompositeCalculator</code>, which had been used in the previous chapter <a href="#23-client">2. Remote Object Call</a>. <a href="concepts.html#23-controller">Controller</a> is same with previous chapter and Business Logic is also same. Therefore, these two client programs would have similar implementation code. Le&apos;ts looko at the below codes and find what is different.</p>
<p><div class="panel panel-warning"><div class="panel-heading"><div class="panel-icon"><i class="icon-warning"></i></div><div class="panel-title">
Have you ever found anything different?</div></div><div class="panel-content"><p>The 11th to 12th lines are slightly different. The server address to connect is different.</p>
</div></div></p>
<p>This is the <strong>TGrid</strong>. It&apos;s not a matter whether the system you want to imlement is a program that runs on a single computer or a distributed processing system using network communications. Even within the same network system category, it&apos;s no problem how its distributed architecture is constructed. Just remember this one.</p>
<p>With <strong>TGrid</strong>, your Business Logic codes are always similar in any situation.</p>
<h4 id="hierarchical-calculatorindexts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/hierarchical-calculator/index.ts" target="_blank"><code>hierarchical-calculator/index.ts</code></a></h4>
<p><div id="a89b9109389deafd4914ba315c870b22" class="gbcg gbcg-codegroup" data-remember-tabs="true">
  <div class="gbcg-tab-selectors">
    <a id="select-typescript-0-b56064883434c1177c379a1b0d51dbd2" class="gbcg-selector gbcg-active" data-tab="typescript-0-b56064883434c1177c379a1b0d51dbd2">Object-Oriented-Network</a>
    <a id="select-typescript-1-af3b5ced2989508f02b8097da010c6bd" class="gbcg-selector" data-tab="typescript-1-af3b5ced2989508f02b8097da010c6bd">Remote-Object-Call</a>
    <a id="select-typescript-2-2b8f3ef2318e347d07bc06cacc6a347f" class="gbcg-selector" data-tab="typescript-2-2b8f3ef2318e347d07bc06cacc6a347f">Single-Program</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="typescript-0-b56064883434c1177c379a1b0d51dbd2" class="gbcg-tab-item gbcb-Object-Oriented-Network">
        <pre class="language-"><code class="lang-typescript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/workers&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ICompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONNECTION</span>
    <span class="token comment">//----</span>
    <span class="token comment">// DO CONNECT</span>
    <span class="token keyword">let</span> connector<span class="token punctuation">:</span> WorkerConnector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerConnector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">&quot;/calculator.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// CALL REMOTE FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// GET DRIVER</span>
    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span> <span class="token operator">=</span> connector<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN THE ROOT SCOPE</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 6 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 * 2 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (SCIENTIFIC)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3 ^ 4 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;log (2, 32) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// TO CATCH EXCEPTION IS STILL POSSIBLE</span>
        <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SQRT (-4) -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (STATISTICS)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Mean (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Stdev. (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">stdev</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// TERMINATE</span>
    <span class="token comment">//----</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token parameter">exp</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname typescript-0-b56064883434c1177c379a1b0d51dbd2" id="object-oriented-network">Object-Oriented-Network</h3>
        <div id="typescript-0-b56064883434c1177c379a1b0d51dbd2" class="gbcg-tab-item gbcb-Object-Oriented-Network">
          <pre class="language-"><code class="lang-typescript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/workers&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ICompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONNECTION</span>
    <span class="token comment">//----</span>
    <span class="token comment">// DO CONNECT</span>
    <span class="token keyword">let</span> connector<span class="token punctuation">:</span> WorkerConnector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerConnector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">&quot;/calculator.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// CALL REMOTE FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// GET DRIVER</span>
    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span> <span class="token operator">=</span> connector<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN THE ROOT SCOPE</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 6 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 * 2 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (SCIENTIFIC)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3 ^ 4 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;log (2, 32) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// TO CATCH EXCEPTION IS STILL POSSIBLE</span>
        <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SQRT (-4) -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (STATISTICS)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Mean (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Stdev. (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">stdev</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// TERMINATE</span>
    <span class="token comment">//----</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token parameter">exp</span> <span class="token operator">=&gt;</span>
<span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>exp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-1-af3b5ced2989508f02b8097da010c6bd" id="remote-object-call">Remote-Object-Call</h3>
        <div id="typescript-1-af3b5ced2989508f02b8097da010c6bd" class="gbcg-tab-item gbcb-Remote-Object-Call">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WebConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/web&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> ICompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../controllers/ICalculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONNECTION</span>
    <span class="token comment">//----</span>
    <span class="token keyword">let</span> connector<span class="token punctuation">:</span> WebConnector <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WebConnector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;ws://127.0.0.1:10102&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// CALL FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// GET DRIVER</span>

    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span> <span class="token operator">=</span> connector<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>ICompositeCalculator<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// FUNCTIONS IN THE ROOT SCOPE</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 6 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 * 2 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (SCIENTIFIC)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3 ^ 4 =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;log (2, 32) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// TO CATCH EXCEPTION IS STILL POSSIBLE</span>
        <span class="token keyword">await</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SQRT (-4) -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (STATISTICS)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Mean (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Stdev. (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> <span class="token keyword">await</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">stdev</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//----</span>
    <span class="token comment">// TERMINATE</span>
    <span class="token comment">//----</span>
    <span class="token keyword">await</span> connector<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-2-2b8f3ef2318e347d07bc06cacc6a347f" id="single-program">Single-Program</h3>
        <div id="typescript-2-2b8f3ef2318e347d07bc06cacc6a347f" class="gbcg-tab-item gbcb-Single-Program">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> CompositeCalculator <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;../../providers/Calculator&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
<span class="token punctuation">{</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CALL FUNCTIONS</span>
    <span class="token comment">//----</span>
    <span class="token comment">// CONSTRUCT CALCULATOR</span>
    <span class="token keyword">let</span> calc<span class="token punctuation">:</span> CompositeCalculator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CompositeCalculator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN THE ROOT SCOPE</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;1 + 6 =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span><span class="token function">plus</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;7 * 2 =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span><span class="token function">multiplies</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (SCIENTIFIC)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;3 ^ 4 =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">pow</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;log (2, 32) =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">try</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// TO CATCH EXCEPTION</span>
        calc<span class="token punctuation">.</span>scientific<span class="token punctuation">.</span><span class="token function">sqrt</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;SQRT (-4) -&gt; Error:&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// FUNCTIONS IN AN OBJECT (STATISTICS)</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Mean (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">mean</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Stdev. (1, 2, 3, 4) =&quot;</span><span class="token punctuation">,</span> calc<span class="token punctuation">.</span>statistics<span class="token punctuation">.</span><span class="token function">stdev</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<blockquote>
<pre class="language-"><code class="lang-python"><span class="token number">1</span> <span class="token operator">+</span> <span class="token number">6</span> <span class="token operator">=</span> <span class="token number">7</span>
<span class="token number">7</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">14</span>
<span class="token number">3</span> <span class="token operator">^</span> <span class="token number">4</span> <span class="token operator">=</span> <span class="token number">81</span>
log <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">5</span>
SQRT <span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> Error<span class="token punctuation">:</span> Negative value on sqaure<span class="token punctuation">.</span>
Mean <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">2.5</span>
Stdev<span class="token punctuation">.</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1.118033988749895</span>
</code></pre>
</blockquote>
<h2 id="4-remote-critical-section">4. Remote Critical Section</h2>
<p>With <strong>TGrid</strong>, multiple computers using entwork communication can be turned into A <u>single program</u> running on &lt;/u&gt;a virtual computer&lt;/u&gt;. The example codes I&apos;ve shown you throughout this lesson are also intended to demonstrate such concept.</p>
<p>However, the the <u>single virtual program</u> doens&apos;t mean the single-threaded program. Rather, it is more like a multi-threading (or multi-processing) program in logically. In other words, all of the systems made by <strong>TGrid</strong> are a type of virtual multi-threading programs.</p>
<p>So, what do you imagine when you hear the word <em>multi-thread</em>? Perhaps most of you thought about the <em>critical sections</em> like mutex or semaphore. Yes, the most important thing for multi-threading program is to controll these <em>critical sections</em> carefully.</p>
<p>Although you succeeded to turn multiple computers using network communications into a single virtual computer through TGrid, it doesn&apos;t mean anything if cannot controll those <em>critical sections</em>. Thus, in this chapter, we will learn how to control these <em>critical sections</em> in network system. However, do not worry, it&apos;s never difficult. Controlling network level&apos;s <em>critical sections</em> are also done by the <em>Remote Function Call</em>.</p>
<p><div class="panel panel-info"><div class="panel-heading"><div class="panel-icon"><i class="icon-info"></i></div><div class="panel-title">Recommend a Library</div></div><div class="panel-content"><h3 id="tstl">TSTL</h3>
<p>TypeScript Standard Template Library</p>
<ul>
<li><a href="https://tstl.dev" target="_blank">https://tstl.dev</a></li>
</ul>
<p>I strongly recommend a library named <a href="https://tstl.dev" target="_blank">TSTL</a>, which supports controlling <em>critical sections</em> through <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thread</span><span class="token punctuation">&gt;</span></span></code> module. The classes implemented in the <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thread</span><span class="token punctuation">&gt;</span></span></code> module can be used not only in the single program level, but also in the network level.</p>
<p><code>Mutex</code> used in this chapter is also imported from the <a href="https://tstl.dev" target="_blank">TSTL</a>.</p>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span>
    ConditionVariable<span class="token punctuation">,</span>
    Mutex<span class="token punctuation">,</span> TimedMutex<span class="token punctuation">,</span>
    SharedMutex<span class="token punctuation">,</span> SharedTimedMutex<span class="token punctuation">,</span>
    UniqueLock<span class="token punctuation">,</span> SharedLock<span class="token punctuation">,</span>
    Latch<span class="token punctuation">,</span> Barrier<span class="token punctuation">,</span> FlexBarrier<span class="token punctuation">,</span>
    Semaphore
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tstl/thread&quot;</span><span class="token punctuation">;</span>
</code></pre>
</div></div></p>
<h3 id="41-features">4.1. Features</h3>
<p>Controller and Provider to be used for controlling remote section are as follows. The client program provides the <code>CriticalSection</code> object as a <a href="concepts.html#22-provider">Provider</a>. Also, the server program utilizes the remote <a href="concepts.html#22-provider">Provider</a> through <a href="concepts.html#24-driver">Driver</a>&lt;<a href="concepts.html#23-controller">Controller</a>&gt; with <code>ICriticalSection</code>.</p>
<p>As you can see, the features are very simple. <code>IMutex</code> would be used to control critical section in the server program. Also, server program would utilize the <code>ICriticalSection.print()</code> method. Let&apos;s take a look what the method is for.</p>
<p><div id="13be689b5e5d5ca362916ff3bdc0c3b8" class="gbcg gbcg-codegroup" data-remember-tabs="true">
  <div class="gbcg-tab-selectors">
    <a id="select-typescript-0-96987a8abc1f1c538408431be04dca8a" class="gbcg-selector gbcg-active" data-tab="typescript-0-96987a8abc1f1c538408431be04dca8a">Controller</a>
    <a id="select-typescript-1-da840f6b07077a0a52d59af658795af4" class="gbcg-selector" data-tab="typescript-1-da840f6b07077a0a52d59af658795af4">Provider</a>
  </div>
  <div class="gbcg-tab-contents">
    <div id="gbcg-tab-container">
      <div id="typescript-0-96987a8abc1f1c538408431be04dca8a" class="gbcg-tab-item gbcb-Controller">
        <pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ICriticalSection</span>
<span class="token punctuation">{</span>
    mutex<span class="token punctuation">:</span> IMutex<span class="token punctuation">;</span>

    <span class="token function">print</span><span class="token punctuation">(</span>character<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IMutex</span>
<span class="token punctuation">{</span>
    <span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
    </div>
    <div class="gbcg-tab-item-cntr">
      <div>
        <h3 class="gbcg-tabname typescript-0-96987a8abc1f1c538408431be04dca8a" id="controller">Controller</h3>
        <div id="typescript-0-96987a8abc1f1c538408431be04dca8a" class="gbcg-tab-item gbcb-Controller">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ICriticalSection</span>
<span class="token punctuation">{</span>
    mutex<span class="token punctuation">:</span> IMutex<span class="token punctuation">;</span>

    <span class="token function">print</span><span class="token punctuation">(</span>character<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">IMutex</span>
<span class="token punctuation">{</span>
    <span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
        </div>
      </div>
      <div>
        <h3 class="gbcg-tabname typescript-1-da840f6b07077a0a52d59af658795af4" id="provider">Provider</h3>
        <div id="typescript-1-da840f6b07077a0a52d59af658795af4" class="gbcg-tab-item gbcb-Provider">
          <pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Mutex <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tstl/thread/Mutex&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">CriticalSection</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> mutex<span class="token punctuation">:</span> Mutex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mutex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token function">print</span><span class="token punctuation">(</span>character<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
    <span class="token punctuation">{</span>
        process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
        </div>
      </div>
    </div>
  </div>
</div></p>
<h3 id="42-client">4.2. Client</h3>
<p><img src="../../assets/images/examples/remote-critical-section.png" alt="Diagram of Remote Critical Section"></p>
<p>The client program creates 4 <em>Worker</em> instances and the 4 <em>Worker</em> instances construct 4 <code>WorkerServers</code> objects. Also, provides <code>CriticalSection</code> classes to each server as a <a href="concepts.html#22-provider">Provider</a>. After the construction, client program waits until 4 <code>WorkerServer</code>s to be closed.</p>
<p>As you can see, the actions of the client program is simple. It just provides <code>CriticalSection</code> object to each server. The important is how each server controls the <em>critical section</em> in network level using the <em>Remote Function Call</em>.</p>
<h4 id="threadindexts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/thread/index.ts" target="_blank"><code>thread/index.ts</code></a></h4>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerConnector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/workers&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Vector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tstl/container&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Mutex <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tstl/thread&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// FEATURES TO PROVIDE</span>
<span class="token keyword">namespace</span> provider
<span class="token punctuation">{</span>
    <span class="token keyword">export</span> <span class="token keyword">var</span> mutex <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mutex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span>
    <span class="token punctuation">{</span>
        process<span class="token punctuation">.</span>stdout<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token keyword">let</span> workers<span class="token punctuation">:</span> Vector<span class="token operator">&lt;</span>WorkerConnector<span class="token operator">&lt;</span><span class="token keyword">typeof</span> provider<span class="token operator">&gt;&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// CREATE WORKERS</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// CONNECT TO WORKER</span>
        <span class="token keyword">let</span> w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerConnector</span><span class="token punctuation">(</span>provider<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> w<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">&quot;/child.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// ENROLL IT</span>
        workers<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// WAIT THEM TO BE CLOSED</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> w <span class="token keyword">of</span> workers<span class="token punctuation">)</span>
        <span class="token keyword">await</span> w<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="43-server">4.3. Server</h3>
<p>Server program controls the <em>critical section</em> in network level through the Mutex which is provided from the client program.</p>
<p>As you can see, the server programs picks a random character up (line #38). After that, monopolizes critical section for 1 to 2 seconds and prints the picked up character repeatedly,  (line #19 to #33).</p>
<p>If the <em>Remote Function Call</em> can control the <em>critical sections</em> even in the network level, the console will repeat the same characters on each line. Otherwise the <strong>TGrid</strong> and <a href="https://tstl.dev" target="_blank">TSTL</a> failed to control the <em>critical sections</em> in network level, the console will print dirty characters.</p>
<p>Now, let&apos;s see what happend to the console. The TGrid even can implement the <em>remote critical section</em>?</p>
<h4 id="threadchildts"><a href="https://github.com/samchon/tgrid.examples/blob/master/src/projects/thread/child.ts" target="_blank"><code>thread/child.ts</code></a></h4>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WorkerServer <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/protocols/workers&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Driver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tgrid/components&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Mutex<span class="token punctuation">,</span> sleep_for <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tstl/thread&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> randint <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;tstl/algorithm&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">interface</span> <span class="token class-name">IController</span>
<span class="token punctuation">{</span>
    mutex<span class="token punctuation">:</span> Mutex<span class="token punctuation">;</span>
    <span class="token function">print</span><span class="token punctuation">(</span>str<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token parameter">character<span class="token punctuation">:</span> <span class="token builtin">string</span></span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token punctuation">{</span>
    <span class="token comment">// PREPARE SERVER</span>
    <span class="token keyword">let</span> server<span class="token punctuation">:</span> WorkerServer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WorkerServer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// REMOTE FUNCTION CALLS</span>
    <span class="token keyword">let</span> driver<span class="token punctuation">:</span> Driver<span class="token operator">&lt;</span>IController<span class="token operator">&gt;</span> <span class="token operator">=</span> server<span class="token punctuation">.</span>getDriver<span class="token operator">&lt;</span>IController<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span>mutex<span class="token punctuation">.</span><span class="token function">lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// PRINT LINE WITH CRITICAL SECTION</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">20</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>character<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// PRINT A CHARACTER</span>
            <span class="token keyword">await</span> <span class="token function">sleep_for</span><span class="token punctuation">(</span><span class="token function">randint</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// RANDOM SLEEP</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">await</span> driver<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">await</span> driver<span class="token punctuation">.</span>mutex<span class="token punctuation">.</span><span class="token function">unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// CLOSE THE SERVER (WORKER)</span>
    <span class="token keyword">await</span> server<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token function">randint</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<blockquote>
<pre class="language-"><code class="lang-python"><span class="token number">11111111111111111111</span>
<span class="token number">88888888888888888888</span>
<span class="token number">44444444444444444444</span>
<span class="token number">33333333333333333333</span>
</code></pre>
</blockquote>

  
  </section>

    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="concepts.html#3-protocols" class="navigation navigation-prev " aria-label="Previous page: 2.1.3. Protocols">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="examples.html#1-remote-function-call" class="navigation navigation-next " aria-label="Next page: 2.2.1. Remote Function Call">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"2.2. Learn from Examples","level":"2.2","depth":1,"next":{"title":"2.2.1. Remote Function Call","level":"2.2.1","depth":2,"anchor":"#1-remote-function-call","path":"tutorial/examples.md","ref":"tutorial/examples.md#1-remote-function-call","articles":[]},"previous":{"title":"2.1.3. Protocols","level":"2.1.3","depth":2,"anchor":"#3-protocols","path":"tutorial/concepts.md","ref":"tutorial/concepts.md#3-protocols","articles":[]},"dir":"ltr"},"config":{"plugins":["-highlight","addcssjs","back-to-top-button","codegroup","collapse","disqus","github","hide-navigation-buttons","hide-published-with","import","language-picker","meta","panel","prism","scroll-to-top","theme-darkblue","theme-github","sitemap-general"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{},"disqus":{"useIdentifier":false,"shortName":"tgrid"},"language-picker":{"grid-columns":3},"scroll-to-top":{},"github":{"url":"https://github.com/samchon/tgrid"},"panel":{},"meta":{"content":"","data":[{"name":"og:url","content":"https://tgrid.dev"},{"name":"og:type","content":"website"},{"name":"og:title","content":"TGrid Guide Documents"},{"name":"og:description","content":"TypeScript Grid Computing Framework"},{"name":"og:image","content":"https://tgrid.dev/assets/images/flag.png"}],"name":""},"import":{},"theme-github":{},"search":{},"addcssjs":{"css":[],"js":[]},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"collapse":{},"hide-published-with":{},"sitemap-general":{"prefix":"https://tgrid.dev/"},"codegroup":{"defaultTabName":"Code","rememberTabs":true,"tabNameSeperator":"::"},"fontsettings":{"theme":"white","family":"sans","size":2},"hide-navigation-buttons":{},"theme-darkblue":{},"back-to-top-button":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"Jeongho Nam","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"TGrid","language":"en","gitbook":"*","description":"Guide Documents for TGrid"},"file":{"path":"tutorial/examples.md","mtime":"2019-09-28T06:47:32.643Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-10-03T14:58:52.642Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-codegroup/code.group.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-collapse/collapse.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/URI.js/1.16.1/URI.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-disqus/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-published-with/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-language-picker/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-scroll-to-top/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    

    </body>
</html>

